(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{271:function(t,e,o){var content=o(287);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(23).default)("59161675",content,!0,{sourceMap:!1})},272:function(t,e,o){var content=o(289);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(23).default)("73892836",content,!0,{sourceMap:!1})},286:function(t,e,o){"use strict";var n=o(271);o.n(n).a},287:function(t,e,o){(t.exports=o(22)(!1)).push([t.i,".text-light-transition{transition:color 2s}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.page-enter-active,.page-leave-active{transition:opacity .3s ease}.page-enter{opacity:0}.page-enter-to{opacity:1}.page-leave,.page-leave-to{opacity:0}*{font-family:Open Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}body,html{scroll-behavior:smooth}h1{font-size:2em;font-weight:700}.highlight-disable{-webkit-tap-highlight-color:rgba(0,0,0,0)}.remove-scrollbar::-webkit-scrollbar{width:0;height:0;background:transparent}",""])},288:function(t,e,o){"use strict";var n=o(272);o.n(n).a},289:function(t,e,o){(t.exports=o(22)(!1)).push([t.i,".text-light-transition[data-v-245562aa]{transition:color 2s}@-webkit-keyframes fadeIn-data-v-245562aa{0%{opacity:0}to{opacity:1}}@keyframes fadeIn-data-v-245562aa{0%{opacity:0}to{opacity:1}}.page-enter-active[data-v-245562aa],.page-leave-active[data-v-245562aa]{transition:opacity .3s ease}.page-enter[data-v-245562aa]{opacity:0}.page-enter-to[data-v-245562aa]{opacity:1}.page-leave[data-v-245562aa],.page-leave-to[data-v-245562aa]{opacity:0}*[data-v-245562aa]{font-family:Open Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}body[data-v-245562aa],html[data-v-245562aa]{scroll-behavior:smooth}h1[data-v-245562aa]{font-size:2em;font-weight:700}.highlight-disable[data-v-245562aa]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.bg-chat[data-v-245562aa]{background:#167ef6}.bg-message[data-v-245562aa]{background-color:azure}.form-bg[data-v-245562aa]{background:#167ef6}.bg-green-light[data-v-245562aa]{background:#38c172}.bg-red-light[data-v-245562aa]{background:#ef5753}.dot[data-v-245562aa]{width:11px;height:8px;margin-left:10px;margin-top:2px}.dot[data-v-245562aa],.send-button[data-v-245562aa]{border-radius:9999px}.send-button[data-v-245562aa]{background-color:#009cf5;margin-right:1px;padding-left:.75rem;padding-right:.75rem;flex-shrink:0;color:#fff}.list-enter-active[data-v-245562aa],.list-leave-active[data-v-245562aa]{transition:all .8s}.list-enter[data-v-245562aa]:not(.justify-end),.list-leave-to[data-v-245562aa]:not(.justify-end){opacity:0;transform:translateX(-30px)}.list-enter.justify-end[data-v-245562aa],.list-leave-to.justify-end[data-v-245562aa]{opacity:0;transform:translateX(30px)}#scroller *[data-v-245562aa]{overflow-anchor:none}#anchor[data-v-245562aa]{overflow-anchor:auto;height:1px}.commands-fade-enter-active[data-v-245562aa],.commands-fade-leave-active[data-v-245562aa]{transition:all .4s ease}.commands-fade-enter[data-v-245562aa],.commands-fade-leave-to[data-v-245562aa]{transform:translateX(-10px);opacity:0}",""])},291:function(t,e,o){"use strict";o.r(e);o(137),o(67),o(16);var n,c=o(2),r=(o(115),o(32)),l={components:{Icon:o(227).default},directives:{uppercaseInitial:{componentUpdated:function(t){t.value=t.value.charAt(0).toUpperCase()+t.value.slice(1)}},lockToBottom:{componentUpdated:function(t){setTimeout((function(){t.scrollHeight-300<t.clientHeight+t.scrollTop&&t.scrollTo({top:t.scrollHeight,behavior:"smooth"})}),100)}}},data:function(){return{connecting:!1,message:"",commands:[{id:0,name:"Contact",handler:"/contact"},{id:1,name:"Hello",handler:"/hello"},{id:2,name:"Close",handler:"/close"},{id:3,name:"Close",handler:"/close"},{id:4,name:"Close",handler:"/close"},{id:5,name:"Close",handler:"/close"},{id:6,name:"Close",handler:"/close"},{id:7,name:"Close",handler:"/close"},{id:8,name:"Close",handler:"/close"},{id:9,name:"Close",handler:"/close"},{id:10,name:"Close",handler:"/close"}]}},computed:{messages:function(){return this.$store.state.chat.messages},hasDisconnected:function(){return this.$store.state.chat.hasDisconnected},placeholder:function(){return this.$store.state.chat.placeholder||"Say something"},inputDisabled:function(){return this.$store.state.chat.disabled}},watch:{messages:function(){var t=this;this.$store.state.chat.open||this.$store.dispatch("notification/dispatch",{message:this.messages[this.messages.length-1].text,status:"info",icon:"comment-dots",callback:function(){return t.$store.dispatch("chat/toggleChat")}})}},sockets:{connect:(n=Object(c.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)(300);case 2:this.$store.dispatch("chat/addMessage",{text:"Yay! Hello "+this.$socket.client.io.opts.query.name,fromUser:!1}),this.connecting=!1,this.$store.dispatch("chat/setPlaceholder","Write here"),this.$store.dispatch("chat/setDisabled",!1);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)}),disconnect:function(t){this.$socket.client.disconnect(),this.$store.dispatch("chat/disconnected")},response:function(t){this.$store.dispatch("chat/addMessage",{text:t,fromUser:!1})},smartReply:function(t){this.$store.dispatch("chat/addMessage",{text:t,fromUser:!1})}},methods:{send:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.message;if(this.hasDisconnected)this.reconnect();else if(""!==t&&!this.connecting&&!this.inputDisabled){if(2===this.messages.length){if(this.isCommand(t))return;this.$store.dispatch("chat/setDisabled",!0),this.$store.dispatch("chat/setPlaceholder","Connecting..."),this.$socket.client.io.opts.query={name:t},this.$socket.client.connect(),this.connecting=!0}else this.$socket.client.emit(this.isCommand(t)?"command":"message",t);this.$store.dispatch("chat/addMessage",{text:t,fromUser:!0}),this.message=""}},closeChat:function(){this.$store.dispatch("chat/closeChat")},isEmoji:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof t)return!1;var e=/^(?:[\u2700-\u27BF]|(?:\uD83C[\uDDE6-\uDDFF]){2}|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\u0023-\u0039]\uFE0F?\u20E3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff]){1,3}$/g;return!!t.match(e)},reconnect:function(){this.$store.dispatch("chat/reset")},isCommand:function(t){if("string"!=typeof t)return!1;return!!t.match(/^\/([^@\s]+)\s?(.*)$/i)}}},d=(o(286),o(288),o(13)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"h-full relative bg-chat"},[o("div",{staticClass:"h-full flex flex-col justify-between"},[o("div",{staticClass:"md:hidden fixed top-0 w-full flex justify-end z-10 form-bg"},[o("button",{staticClass:"mx-2 my-2 text-white",attrs:{"aria-label":"close chat"},on:{click:t.closeChat}},[o("Icon",{staticClass:"h-full",attrs:{icon:"arrow-right"}})],1)]),t._v(" "),o("div",{directives:[{name:"lockToBottom",rawName:"v-lockToBottom"}],staticClass:"flex-grow overflow-x-hidden overflow-y-auto scrolling-touch w-full pt-12 md:pt-8 px-2 md:pb-4 remove-scrollbar",staticStyle:{"overscroll-behavior-y":"contain"},attrs:{id:"scroller"}},[o("transition-group",{staticClass:"h-full",attrs:{name:"list",tag:"div"}},[t._l(t.messages,(function(e,n){return o("div",{key:n+"-"+e,staticClass:"chat-item w-full flex",class:e.fromUser?"justify-end text-right":"justify-left"},[t.isEmoji(e.text,3)?o("p",{staticClass:"p-1 mx-1 text-5xl"},[t._v(t._s(e.text))]):o("div",{staticClass:"px-4 py-2 text-sm bg-message m-2 block max-w-2/3 rounded-full"},[o("p",{staticClass:"p-1"},[t._v(t._s(e.text))])])])})),t._v(" "),t.$refs.form?o("div",{key:"last",staticClass:"md:hidden",style:{height:t.$refs.form.clientHeight+10+"px"}}):t._e()],2)],1),t._v(" "),o("form",{ref:"form",staticClass:"w-full fixed md:relative bottom-0 form-bg py-3",on:{submit:function(e){return e.preventDefault(),t.send()}}},[o("div",{staticClass:"flex items-center bg-white mx-4 p-1 md:p-2 rounded-full"},[o("span",{directives:[{name:"show",rawName:"v-show",value:t.$socket.connected,expression:"$socket.connected"}],staticClass:"dot bg-green-light"}),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.$socket.disconnected,expression:"$socket.disconnected"}],staticClass:"dot bg-red-light"}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"},{name:"uppercaseInitial",rawName:"v-uppercaseInitial"}],staticClass:"resize-none appearance-none bg-transparent border-none w-full mr-3 py-1 px-4 leading-tight focus:outline-none text-lg",attrs:{disabled:t.inputDisabled,"aria-label":"chat input",placeholder:t.placeholder},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._v(" "),o("button",{staticClass:"send-button py-2 focus:outline-none",attrs:{type:"button","aria-label":"send message"},on:{click:function(e){return e.preventDefault(),t.send()}}},[o("Icon",{attrs:{spin:t.connecting,icon:t.connecting?"cog":t.hasDisconnected?"sync-alt":"paper-plane"}})],1)])])])])}),[],!1,null,"245562aa",null);e.default=component.exports}}]);